{"version":3,"file":"app.bundle.js","sources":["../utils/EventEmitter.js","../RoomClient.js","../modules/MediaPipeModule.js","../UIManager.js","../main.js"],"sourcesContent":["// client/utils/EventEmitter.js\n\nexport class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n\n  // Ïù¥Î≤§Ìä∏ Íµ¨ÎèÖ\n  on(eventName, listener) {\n    if (!this.events[eventName]) {\n      this.events[eventName] = [];\n    }\n    this.events[eventName].push(listener);\n  }\n\n  // Ïù¥Î≤§Ìä∏ Î∞©ÏÜ°\n  emit(eventName, ...args) {\n    if (this.events[eventName]) {\n      this.events[eventName].forEach((listener) => listener(...args));\n    }\n  }\n}\n","// client/RoomClient.js (ÏµúÏ¢Ö ÏôÑÏÑ± Î≤ÑÏ†Ñ)\nimport { EventEmitter } from \"./utils/EventEmitter.js\";\n\nexport class RoomClient extends EventEmitter {\n  constructor(uiManager) {\n    super();\n    this.uiManager = uiManager;\n\n    this.ws = null;\n    this.device = null;\n    this.sendTransport = null;\n    this.recvTransport = null;\n    this.localStream = null;\n    this.producers = new Map();\n    this.consumers = new Map();\n    this.actionCallbackMap = new Map();\n    this.pendingConsumeList = [];\n  }\n\n  join(roomId) {\n    // ‚úÖ roomIdÎ•º Ïù∏ÏûêÎ°ú Î∞õÏäµÎãàÎã§.\n    if (!roomId) {\n      throw new Error(\"roomId is required to join a room\");\n    }\n    // ‚úÖ WebSocket Ï†ëÏÜç Ï£ºÏÜåÏóê roomIdÎ•º ÏøºÎ¶¨ ÌååÎùºÎØ∏ÌÑ∞Î°ú Ï∂îÍ∞ÄÌï©ÎãàÎã§.\n    this.ws = new WebSocket(`wss://192.168.0.11:3000/?roomId=${roomId}`);\n\n    this.ws.onopen = () => {\n      console.log(\"‚úÖ WebSocket connected\");\n      try {\n        this.device = new window.mediasoupClient.Device();\n        this.ws.send(JSON.stringify({ action: \"getRtpCapabilities\" }));\n      } catch (err) {\n        console.error(\"‚ùå Device creation failed:\", err);\n      }\n    };\n\n    this.ws.onmessage = async (event) => {\n      const msg = JSON.parse(event.data);\n      console.log(\"üì© Received:\", msg);\n\n      const cb = this.actionCallbackMap.get(msg.action);\n      if (cb) {\n        cb(msg);\n        this.actionCallbackMap.delete(msg.action);\n        return;\n      }\n\n      switch (msg.action) {\n        case \"rtpCapabilities\":\n          await this._handleRtpCapabilities(msg.data);\n          break;\n        case \"createTransportResponse\":\n          await this._handleCreateTransportResponse(msg.data);\n          break;\n        case \"createConsumerTransportResponse\":\n          await this._handleCreateConsumerTransportResponse(msg.data);\n          break;\n        case \"existingProducers\":\n          await this._handleExistingProducers(msg.data);\n          break;\n        case \"newProducerAvailable\":\n          await this._handleNewProducerAvailable(msg);\n          break;\n        // case \"consumeResponse\":\n        //   await this._handleConsumeResponse(msg.data);\n        //   break;\n        case \"producerClosed\":\n          this._handleProducerClosed(msg);\n          break;\n      }\n    };\n  }\n\n  sendPeerStatus(statusData) {\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n      this.ws.send(\n        JSON.stringify({\n          action: \"updatePeerStatus\",\n          data: statusData,\n        })\n      );\n    }\n  }\n\n  _waitForAction(actionName, callback) {\n    this.actionCallbackMap.set(actionName, callback);\n  }\n\n  async _handleRtpCapabilities(data) {\n    try {\n      await this.device.load({ routerRtpCapabilities: data });\n      console.log(\"‚úÖ Device loaded successfully\");\n      this.ws.send(JSON.stringify({ action: \"createTransport\" }));\n    } catch (err) {\n      console.error(\"‚ùå Failed to load device capabilities:\", err);\n    }\n  }\n\n  async _handleCreateTransportResponse(data) {\n    this.sendTransport = this.device.createSendTransport(data);\n\n    this.sendTransport.on(\n      \"connect\",\n      ({ dtlsParameters }, callback, errback) => {\n        this.ws.send(\n          JSON.stringify({\n            action: \"connectTransport\",\n            data: { dtlsParameters },\n          })\n        );\n        this._waitForAction(\"transportConnected\", callback);\n      }\n    );\n\n    this.sendTransport.on(\n      \"produce\",\n      async ({ kind, rtpParameters, appData }, callback, errback) => {\n        try {\n          console.log(`üé¨ Producing ${kind}...`);\n          // _sendRequestÎ•º ÏÇ¨Ïö©ÌïòÏó¨ ÏÑúÎ≤ÑÏóê produce ÏöîÏ≤≠ÏùÑ Î≥¥ÎÉÖÎãàÎã§.\n          const { id } = await this._sendRequest(\"produce\", {\n            kind,\n            rtpParameters,\n            appData,\n          });\n          console.log(`‚úÖ ${kind} production started with server id: ${id}`);\n          callback({ id });\n          // this.producers.set(id, { kind });\n        } catch (error) {\n          errback(error);\n        }\n      }\n    );\n\n    await this._startProducing();\n  }\n\n  async _startProducing() {\n    try {\n      this.localStream = await navigator.mediaDevices.getUserMedia({\n        video: { width: { ideal: 640 }, height: { ideal: 480 } },\n        audio: true,\n      });\n      const videoElement = document.getElementById(\"localVideo\");\n      videoElement.srcObject = this.localStream;\n\n      videoElement.oncanplay = () => {\n        videoElement.oncanplay = null;\n        console.log(\"‚úÖ Video element is ready to play.\");\n        this.emit(\"localStreamReady\", videoElement); // AI Î™®ÎìàÏù¥ videoElementÎ•º Ï∞∏Ï°∞Ìï† Ïàò ÏûàÎèÑÎ°ù Ï†ÑÎã¨\n\n        (async () => {\n          const videoTrack = this.localStream.getVideoTracks()[0];\n          const audioTrack = this.localStream.getAudioTracks()[0];\n          if (videoTrack)\n            await this.sendTransport.produce({ track: videoTrack });\n          if (audioTrack)\n            await this.sendTransport.produce({ track: audioTrack });\n\n          this.ws.send(JSON.stringify({ action: \"deviceReady\" }));\n        })();\n      };\n    } catch (err) {\n      console.error(\"‚ùå CRITICAL: Failed to get user media.\", err);\n      alert(`Ïπ¥Î©îÎùº/ÎßàÏù¥ÌÅ¨Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§: ${err.name}`);\n    }\n  }\n\n  async _handleCreateConsumerTransportResponse(data) {\n    this.recvTransport = this.device.createRecvTransport(data);\n    this.recvTransport.on(\"connect\", ({ dtlsParameters }, callback) => {\n      this.ws.send(\n        JSON.stringify({\n          action: \"connectConsumerTransport\",\n          data: { dtlsParameters },\n        })\n      );\n      this._waitForAction(\"consumerTransportConnected\", callback);\n    });\n\n    // ‚úÖ recvTransportÍ∞Ä Ï§ÄÎπÑÎêòÏóàÏúºÎØÄÎ°ú, ÎåÄÍ∏∞ Ï§ëÏù∏ Î™®Îì† consumerÎ•º Ï≤òÎ¶¨Ìï©ÎãàÎã§.\n    const pendingConsumes = [...this.pendingConsumeList];\n    this.pendingConsumeList = [];\n    console.log(\n      `‚úÖ RecvTransport ready. Processing ${pendingConsumes.length} pending consumers.`\n    );\n    for (const consumeData of pendingConsumes) {\n      await this._consume(consumeData);\n    }\n  }\n\n  async _handleExistingProducers(producers) {\n    console.log(`üìã Found ${producers.length} existing producers.`);\n    for (const producer of producers) {\n      this.pendingConsumeList.push(producer);\n    }\n\n    // ‚úÖ recvTransportÍ∞Ä ÏïÑÏßÅ ÏóÜÏúºÎ©¥ ÏÉùÏÑ±ÏùÑ ÏöîÏ≤≠ÌïòÍ≥†,\n    //    Ïù¥ÎØ∏ ÏûàÎã§Î©¥ Î∞îÎ°ú ÎåÄÍ∏∞Ïó¥ÏùÑ Ï≤òÎ¶¨ÌïòÏó¨ ÌÉÄÏù¥Î∞ç Î¨∏Ï†úÎ•º Ìï¥Í≤∞Ìï©ÎãàÎã§.\n    if (!this.recvTransport) {\n      this.ws.send(JSON.stringify({ action: \"createConsumerTransport\" }));\n    } else {\n      const pendingConsumes = [...this.pendingConsumeList];\n      this.pendingConsumeList = [];\n      for (const consumeData of pendingConsumes) {\n        await this._consume(consumeData);\n      }\n    }\n  }\n\n  async _handleNewProducerAvailable(producer) {\n    console.log(\"üÜï A new producer is available.\", producer);\n    const consumeData = {\n      producerId: producer.producerId,\n      kind: producer.kind,\n    };\n    // ‚úÖ recvTransportÍ∞Ä ÏóÜÏúºÎ©¥ ÎåÄÍ∏∞Ïó¥Ïóê Ï∂îÍ∞ÄÌïòÍ≥†, ÏûàÏúºÎ©¥ Î∞îÎ°ú consumeÏùÑ ÏãúÎèÑÌï©ÎãàÎã§.\n    if (!this.recvTransport) {\n      this.pendingConsumeList.push(consumeData);\n    } else {\n      await this._consume(consumeData);\n    }\n  }\n\n  async _consume({ producerId, kind }) {\n    console.log(`üì° Requesting to consume producer ${producerId}`);\n    if (!this.recvTransport) {\n      console.warn(\"recvTransport is not ready, queuing consume request\");\n      this.pendingConsumeList.push({ producerId, kind });\n      return;\n    }\n    try {\n      const data = await this._sendRequest(\"consume\", {\n        rtpCapabilities: this.device.rtpCapabilities,\n        producerId,\n        kind,\n      });\n\n      const consumer = await this.recvTransport.consume({\n        id: data.id,\n        producerId: data.producerId,\n        kind: data.kind,\n        rtpParameters: data.rtpParameters,\n      });\n      this.consumers.set(consumer.id, consumer);\n\n      // UI Îß§ÎãàÏ†ÄÍ∞Ä ÌôîÎ©¥Ïóê Í∑∏Î¶¥ Ïàò ÏûàÎèÑÎ°ù Ïù¥Î≤§Ìä∏Î•º Î∞úÏÉùÏãúÌÇµÎãàÎã§.\n      this.emit(\"new-consumer\", consumer);\n\n      // 4. ÏÉùÏÑ±Îêú consumerÎ•º Ï¶âÏãú resumeÌïòÎèÑÎ°ù ÏÑúÎ≤ÑÏóê ÏöîÏ≤≠Ìï©ÎãàÎã§.\n      console.log(`üöÄ Resuming consumer ${consumer.id}`);\n      this.ws.send(\n        JSON.stringify({\n          action: \"resumeConsumer\",\n          data: { consumerId: consumer.id },\n        })\n      );\n    } catch (error) {\n      console.error(`‚ùå Failed to create consumer for ${producerId}:`, error);\n    }\n  }\n\n  _handleProducerClosed({ producerId }) {\n    console.log(`üö´ Producer ${producerId} closed.`);\n    this.emit(\"producer-closed\", producerId);\n  }\n\n  async _sendRequest(action, data) {\n    return new Promise((resolve, reject) => {\n      const callbackAction = `${action}Response`;\n      this._waitForAction(callbackAction, (response) => {\n        if (response.error) {\n          reject(new Error(response.error));\n        } else {\n          resolve(\n            response.id ? { id: response.id, ...response.data } : response.data\n          );\n        }\n      });\n      this.ws.send(JSON.stringify({ action, data }));\n    });\n  }\n}\n","// client/modules/MediaPipeModule.js\n\nimport { EventEmitter } from \"../utils/EventEmitter.js\";\n\n// ‚úÖ EventEmitterÎ•º ÏÉÅÏÜçÎ∞õÏäµÎãàÎã§.\nexport class MediaPipeModule extends EventEmitter {\n  constructor(videoElement) {\n    super();\n\n    this.videoElement = videoElement;\n    this.worker = new Worker(\"./dist/mediapipe-worker.bundle.js\");\n\n    // ‚úÖ 1. Î™®Îì† ÏÉÅÌÉúÏôÄ ÏÉÅÏàòÎ•º ÌÅ¥ÎûòÏä§Ïùò ÏÜçÏÑ±(this)ÏúºÎ°ú Î≥ÄÍ≤ΩÌï©ÎãàÎã§.\n    this.isDrowsy = false;\n    this.isPresent = true;\n\n    this.LEFT_EYE = [33, 160, 158, 133, 153, 144];\n    this.RIGHT_EYE = [362, 385, 387, 263, 373, 380];\n    this.EAR_THRESH = 0.2;\n    this.DROWSY_FRAMES = 10;\n\n    this.closureFrames = 0;\n    this.absenceCounter = 0;\n    this.ABSENCE_CONSECUTIVE_FRAMES = 15; // ÌïÑÏöîÏóê Îî∞Îùº Ï°∞Ï†ï\n\n    this.worker.onerror = (error) => {\n      console.error(\"‚ùå MediaPipe Worker Ïò§Î•ò:\", error);\n      this.emit(\"error\", error); // ÏóêÎü¨ÎèÑ Ïù¥Î≤§Ìä∏Î°ú Ïô∏Î∂ÄÏóê ÏïåÎ¶ΩÎãàÎã§.\n    };\n  }\n\n  start() {\n    this.worker.onmessage = (event) => {\n      const { type, landmarks } = event.data;\n      if (type === \"ready\") {\n        this._startAnalysisLoop();\n      } else if (type === \"result\") {\n        this._handleAnalysisResult(landmarks);\n      }\n    };\n  }\n\n  _startAnalysisLoop() {\n    const AI_ANALYSIS_INTERVAL = 200;\n    const analyzeFrame = async () => {\n      if (this.worker && this.videoElement.readyState >= 2) {\n        const imageBitmap = await createImageBitmap(this.videoElement);\n        this.worker.postMessage({ imageBitmap }, [imageBitmap]);\n      }\n      setTimeout(analyzeFrame, AI_ANALYSIS_INTERVAL);\n    };\n    setTimeout(analyzeFrame, AI_ANALYSIS_INTERVAL);\n  }\n\n  _handleAnalysisResult(landmarks) {\n    // ‚úÖ 2. ÎûúÎìúÎßàÌÅ¨ Í∑∏Î¶¨Í∏∞ ÏöîÏ≤≠ÏùÄ Ïù¥Î≤§Ìä∏Î°úÎßå Î∞©ÏÜ°Ìï©ÎãàÎã§.\n    this.emit(\"landmarksUpdate\", landmarks);\n\n    const previousIsPresent = this.isPresent;\n    const previousIsDrowsy = this.isDrowsy;\n\n    // --- ÏûêÎ¶¨ ÎπÑÏõÄ / Î≥µÍ∑Ä ÌåêÎã® ---\n    if (!landmarks) {\n      this.absenceCounter++;\n      if (this.absenceCounter > this.ABSENCE_CONSECUTIVE_FRAMES) {\n        this.isPresent = false;\n      }\n    } else {\n      this.absenceCounter = 0;\n      this.isPresent = true;\n    }\n\n    // --- Ï°∏Ïùå ÌåêÎã® (ÏñºÍµ¥Ïù¥ Í∞êÏßÄÎêú Í≤ΩÏö∞ÏóêÎßå) ---\n    if (landmarks) {\n      const getEAR = (eyeIndices) => {\n        const pts = eyeIndices.map((i) => landmarks[i]);\n        const d = (a, b) => Math.hypot(a.x - b.x, a.y - b.y);\n        return (\n          (d(pts[1], pts[5]) + d(pts[2], pts[4])) / (2 * d(pts[0], pts[3]))\n        );\n      };\n      const ear = (getEAR(this.LEFT_EYE) + getEAR(this.RIGHT_EYE)) / 2;\n\n      if (ear < this.EAR_THRESH) {\n        this.closureFrames++;\n        if (this.closureFrames >= this.DROWSY_FRAMES) {\n          this.isDrowsy = true;\n        }\n      } else {\n        this.isDrowsy = false;\n        this.closureFrames = 0;\n      }\n    } else {\n      // ÏñºÍµ¥Ïù¥ ÏóÜÏúºÎ©¥ Ï°∏Ïùå ÏÉÅÌÉúÎäî ÏïÑÎãàÎØÄÎ°ú Î¶¨ÏÖã\n      this.isDrowsy = false;\n      this.closureFrames = 0;\n    }\n\n    // ‚úÖ 3. ÏÉÅÌÉúÍ∞Ä 'Î≥ÄÍ≤Ω'ÎêòÏóàÏùÑ ÎïåÎßå Ïù¥Î≤§Ìä∏Î•º Î∞©ÏÜ°Ìï©ÎãàÎã§.\n    if (previousIsPresent !== this.isPresent) {\n      this.emit(\"absenceUpdate\", { isPresent: this.isPresent });\n    }\n    if (previousIsDrowsy !== this.isDrowsy) {\n      this.emit(\"drowsinessUpdate\", { isDrowsy: this.isDrowsy });\n    }\n  }\n}\n","// client/UIManager.js\n\n// Ïù¥ ÏÉÅÏàòÎäî Í∑∏Î¶ºÏùÑ Í∑∏Î¶¨Îäî UIManagerÍ∞Ä Í∞ÄÏßÄÍ≥† ÏûàÎäî Í≤ÉÏù¥ Îçî Ï†ÅÌï©Ìï©ÎãàÎã§.\nconst FACE_LANDMARKS_CONNECTORS = [\n  { start: 61, end: 146 },\n  { start: 146, end: 91 },\n  { start: 91, end: 181 },\n  { start: 181, end: 84 },\n  { start: 84, end: 17 },\n  { start: 17, end: 314 },\n  { start: 314, end: 405 },\n  { start: 405, end: 321 },\n  { start: 321, end: 375 },\n  { start: 375, end: 291 },\n  { start: 61, end: 185 },\n  { start: 185, end: 40 },\n  { start: 40, end: 39 },\n  { start: 39, end: 37 },\n  { start: 37, end: 0 },\n  { start: 0, end: 267 },\n  { start: 267, end: 269 },\n  { start: 269, end: 270 },\n  { start: 270, end: 409 },\n  { start: 409, end: 291 },\n  { start: 78, end: 95 },\n  { start: 95, end: 88 },\n  { start: 88, end: 178 },\n  { start: 178, end: 87 },\n  { start: 87, end: 14 },\n  { start: 14, end: 317 },\n  { start: 317, end: 402 },\n  { start: 402, end: 318 },\n  { start: 318, end: 324 },\n  { start: 324, end: 308 },\n  { start: 78, end: 191 },\n  { start: 191, end: 80 },\n  { start: 80, end: 81 },\n  { start: 81, end: 82 },\n  { start: 82, end: 13 },\n  { start: 13, end: 312 },\n  { start: 312, end: 311 },\n  { start: 311, end: 310 },\n  { start: 310, end: 415 },\n  { start: 415, end: 308 },\n  // Left eye\n  { start: 362, end: 382 },\n  { start: 382, end: 381 },\n  { start: 381, end: 380 },\n  { start: 380, end: 373 },\n  { start: 373, end: 374 },\n  { start: 374, end: 390 },\n  { start: 390, end: 249 },\n  { start: 249, end: 362 },\n  // Left eyebrow\n  { start: 336, end: 296 },\n  { start: 296, end: 334 },\n  { start: 334, end: 293 },\n  { start: 293, end: 300 },\n  { start: 300, end: 276 },\n  // Right eye\n  { start: 33, end: 7 },\n  { start: 7, end: 163 },\n  { start: 163, end: 144 },\n  { start: 144, end: 145 },\n  { start: 145, end: 153 },\n  { start: 153, end: 154 },\n  { start: 154, end: 155 },\n  { start: 155, end: 33 },\n  // Right eyebrow\n  { start: 107, end: 66 },\n  { start: 66, end: 105 },\n  { start: 105, end: 63 },\n  { start: 63, end: 70 },\n  { start: 70, end: 46 },\n  // Face oval\n  { start: 10, end: 338 },\n  { start: 338, end: 297 },\n  { start: 297, end: 332 },\n  { start: 332, end: 284 },\n  { start: 284, end: 251 },\n  { start: 251, end: 389 },\n  { start: 389, end: 356 },\n  { start: 356, end: 454 },\n  { start: 454, end: 323 },\n  { start: 323, end: 361 },\n  { start: 361, end: 288 },\n  { start: 288, end: 397 },\n  { start: 397, end: 365 },\n  { start: 365, end: 379 },\n  { start: 379, end: 378 },\n  { start: 378, end: 400 },\n  { start: 400, end: 377 },\n  { start: 377, end: 152 },\n  { start: 152, end: 148 },\n  { start: 148, end: 176 },\n  { start: 176, end: 149 },\n  { start: 149, end: 150 },\n  { start: 150, end: 136 },\n  { start: 136, end: 172 },\n  { start: 172, end: 58 },\n  { start: 58, end: 132 },\n  { start: 132, end: 93 },\n  { start: 93, end: 234 },\n  { start: 234, end: 127 },\n  { start: 127, end: 162 },\n  { start: 162, end: 21 },\n  { start: 21, end: 54 },\n  { start: 54, end: 103 },\n  { start: 103, end: 67 },\n  { start: 67, end: 109 },\n  { start: 109, end: 10 },\n];\n\nexport class UIManager {\n  constructor() {\n    this.canvas = document.getElementById(\"localCanvas\");\n    this.canvasCtx = this.canvas.getContext(\"2d\");\n    this.video = document.getElementById(\"localVideo\");\n    this.remoteMediaContainer = document.getElementById(\"remoteMediaContainer\");\n\n    if (!this.remoteMediaContainer) {\n      console.error(\n        \"‚ùå UIManager: #remoteMediaContainer ÏöîÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§!\"\n      );\n    } else {\n      console.log(\"‚úÖ UIManager: #remoteMediaContainer ÏöîÏÜå Ï¥àÍ∏∞Ìôî ÏôÑÎ£å.\");\n    }\n  }\n\n  drawFaceMesh(landmarks) {\n    // Ï∫îÎ≤ÑÏä§ ÌÅ¨Í∏∞Î•º ÎπÑÎîîÏò§ ÌÅ¨Í∏∞Ïóê ÎßûÏ∂•ÎãàÎã§.\n    this.canvas.width = this.video.videoWidth;\n    this.canvas.height = this.video.videoHeight;\n    this.canvasCtx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    if (!landmarks) return;\n\n    // ÏÑ† Ïä§ÌÉÄÏùº ÏÑ§Ï†ï\n    this.canvasCtx.strokeStyle = \"rgba(0, 255, 0, 0.7)\";\n    this.canvasCtx.lineWidth = 1.5;\n\n    for (const connection of FACE_LANDMARKS_CONNECTORS) {\n      const start = landmarks[connection.start];\n      const end = landmarks[connection.end];\n      if (start && end) {\n        this.canvasCtx.beginPath();\n        this.canvasCtx.moveTo(\n          start.x * this.canvas.width,\n          start.y * this.canvas.height\n        );\n        this.canvasCtx.lineTo(\n          end.x * this.canvas.width,\n          end.y * this.canvas.height\n        );\n        this.canvasCtx.stroke();\n      }\n    }\n  }\n\n  // ÏõêÍ≤© ÎπÑÎîîÏò§ ÏóòÎ¶¨Î®ºÌä∏ ÏÉùÏÑ± Îì± Îã§Î•∏ UI Í¥ÄÎ†® Î°úÏßÅÎèÑ Ïó¨Í∏∞Ïóê Ï∂îÍ∞Ä...\n  addRemoteTrack(track, producerId) {\n    if (!this.remoteMediaContainer) {\n      console.error(\n        \"‚ùå UIManager.addRemoteTrack: remoteMediaContainerÍ∞Ä Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§. ÏõêÍ≤© Ìä∏ÎûôÏùÑ Ï∂îÍ∞ÄÌï† Ïàò ÏóÜÏäµÎãàÎã§.\"\n      );\n      return;\n    }\n\n    const element = document.createElement(track.kind);\n    element.id = `remote-${producerId}`;\n    element.autoplay = true;\n    element.playsInline = true;\n    if (track.kind === \"video\") {\n      element.controls = true;\n    }\n    element.srcObject = new MediaStream([track]);\n\n    this.remoteMediaContainer.appendChild(element);\n    console.log(\n      `üì∫ Added remote ${track.kind} element for producer ${producerId}`\n    );\n  }\n\n  removeRemoteTrack(producerId) {\n    const element = document.getElementById(`remote-${producerId}`);\n    if (element) {\n      element.remove();\n      console.log(`üóëÔ∏è Removed element for producer ${producerId}`);\n    }\n  }\n}\n","// client/main.js\nimport { RoomClient } from \"./RoomClient.js\";\nimport { MediaPipeModule } from \"./modules/MediaPipeModule.js\";\nimport { UIManager } from \"./UIManager.js\";\n\n// --- Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÏãúÏûë ---\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  console.log(\"üöÄ Application starting...\");\n\n  const uiManager = new UIManager();\n  const roomClient = new RoomClient(uiManager);\n\n  // ‚úÖ RoomClientÍ∞Ä Î∞©ÏÜ°ÌïòÎäî Ïù¥Î≤§Ìä∏Î•º Íµ¨ÎèÖÌïòÏó¨ UIManagerÏóê ÏûëÏóÖÏùÑ ÏßÄÏãúÌï©ÎãàÎã§.\n  roomClient.on(\"new-consumer\", (consumer) => {\n    console.log(\"üéß Event: new-consumer -> UI Manager adding remote track.\");\n    uiManager.addRemoteTrack(consumer.track, consumer.producerId);\n  });\n\n  roomClient.on(\"producer-closed\", (producerId) => {\n    console.log(\n      \"üéß Event: producer-closed -> UI Manager removing remote track.\"\n    );\n    uiManager.removeRemoteTrack(producerId);\n  });\n\n  // ‚ùóÔ∏èÌïµÏã¨: ÏÇ¨Ïö©ÏûêÍ∞Ä 'Ï°∏Ïùå Í∞êÏßÄ Î™®Îìà'ÏùÑ Íµ¨Îß§ÌñàÎäîÏßÄ Ïó¨Î∂Ä (ÎÇòÏ§ëÏóêÎäî ÏÑúÎ≤ÑÏóêÏÑú Î∞õÏïÑÏò¨ Í∞í)\n  const userHasAiModule = true;\n\n  if (userHasAiModule) {\n    const videoElement = document.getElementById(\"localVideo\");\n    const aiModule = new MediaPipeModule(videoElement);\n\n    console.log(\"ü§ñ AI Module will be initialized.\");\n\n    // --- ÏßÄÌúòÏûê(main.js)Í∞Ä Í∞Å Î™®ÎìàÏùò Ïù¥Î≤§Ìä∏Î•º Ïó∞Í≤∞(Íµ¨ÎèÖ)Ìï¥Ï§çÎãàÎã§. ---\n\n    // 1. RoomClientÍ∞Ä 'Î°úÏª¨ Ïä§Ìä∏Î¶º Ï§ÄÎπÑ ÏôÑÎ£å'Î•º Î∞©ÏÜ°ÌïòÎ©¥, AI Î™®ÎìàÏù¥ Î∂ÑÏÑùÏùÑ ÏãúÏûëÌï©ÎãàÎã§.\n    roomClient.on(\"localStreamReady\", () => {\n      console.log(\"üéß Event: localStreamReady -> AI Module starting analysis.\");\n      aiModule.start();\n    });\n\n    // 2. AI Î™®ÎìàÏù¥ 'ÎûúÎìúÎßàÌÅ¨ ÏóÖÎç∞Ïù¥Ìä∏'Î•º Î∞©ÏÜ°ÌïòÎ©¥, UI Îß§ÎãàÏ†ÄÍ∞Ä ÌôîÎ©¥Ïóê Í∑∏Î¶ºÏùÑ Í∑∏Î¶ΩÎãàÎã§.\n    aiModule.on(\"landmarksUpdate\", (landmarks) => {\n      uiManager.drawFaceMesh(landmarks);\n    });\n\n    // 3. AI Î™®ÎìàÏù¥ 'ÏÉÅÌÉú Î≥ÄÍ≤Ω'ÏùÑ Î∞©ÏÜ°ÌïòÎ©¥, RoomClientÍ∞Ä ÏÑúÎ≤ÑÎ°ú Îç∞Ïù¥ÌÑ∞Î•º Ï†ÑÏÜ°Ìï©ÎãàÎã§.\n    aiModule.on(\"drowsinessUpdate\", (data) => {\n      console.log(\"üéß Event: drowsinessUpdate -> Sending status to server.\");\n      roomClient.sendPeerStatus(data);\n    });\n    aiModule.on(\"absenceUpdate\", (data) => {\n      console.log(\"üéß Event: absenceUpdate -> Sending status to server.\");\n      roomClient.sendPeerStatus(data);\n    });\n\n    // 4. AI Î™®ÎìàÏóêÏÑú ÏóêÎü¨Í∞Ä Î∞úÏÉùÌïòÎ©¥ ÏΩòÏÜîÏóê Ï∂úÎ†•Ìï©ÎãàÎã§.\n    aiModule.on(\"error\", (error) => {\n      console.error(\"üî• AI Module Error:\", error);\n    });\n  }\n\n  // ÌôîÏÉÅÌöåÏùò ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Ïùò Î™®Îì† Ï§ÄÎπÑÎ•º ÏãúÏûëÌï©ÎãàÎã§.\n  // ÎÇòÏ§ëÏóê Ïù¥ roomIdÎäî URLÏù¥ÎÇò Îã§Î•∏ Î∞©Î≤ïÏúºÎ°ú Î∞õÏïÑÏôÄÏïºÌïúÎã§!!\n  const roomId = \"my-first-room\";\n  roomClient.join(roomId);\n});\n"],"names":[],"mappings":"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EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE;EACvB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B;EACA,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B;EACA,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B;EACA,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE;EACvB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB;EACA,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB;EACA,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,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"}