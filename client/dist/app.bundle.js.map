{"version":3,"file":"app.bundle.js","sources":["../utils/EventEmitter.js","../RoomClient.js","../modules/MediaPipeModule.js","../UIManager.js","../main.js"],"sourcesContent":["// client/utils/EventEmitter.js\n\nexport class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n\n  // 이벤트 구독\n  on(eventName, listener) {\n    if (!this.events[eventName]) {\n      this.events[eventName] = [];\n    }\n    this.events[eventName].push(listener);\n  }\n\n  // 이벤트 방송\n  emit(eventName, ...args) {\n    if (this.events[eventName]) {\n      this.events[eventName].forEach((listener) => listener(...args));\n    }\n  }\n}\n","// client/RoomClient.js (최종 완성 버전)\r\nimport { EventEmitter } from \"./utils/EventEmitter.js\";\r\n\r\nexport class RoomClient extends EventEmitter {\r\n  constructor(uiManager) {\r\n    super();\r\n    this.uiManager = uiManager;\r\n\r\n    this.ws = null;\r\n    this.device = null;\r\n    this.sendTransport = null;\r\n    this.recvTransport = null;\r\n    this.localStream = null;\r\n    this.producers = new Map();\r\n    this.consumers = new Map();\r\n    this.producerIdToConsumer = new Map(); // ✅ producerId -> consumer 맵\r\n    this.actionCallbackMap = new Map();\r\n    this.pendingConsumeList = [];\r\n    this.isAdmin = false; // ✅ 관리자 여부\r\n    this.screenProducer = null; // ✅ 화면 공유 프로듀서\r\n  }\r\n\r\n  join(roomId) {\r\n    // ✅ roomId를 인자로 받습니다.\r\n    if (!roomId) {\r\n      throw new Error(\"roomId is required to join a room\");\r\n    }\r\n    // ✅ WebSocket 접속 주소에 roomId를 쿼리 파라미터로 추가합니다.\r\n    this.ws = new WebSocket(`wss://192.168.5.133:3000/?roomId=${roomId}`);\r\n\r\n    this.ws.onopen = () => {\r\n      console.log(\"✅ WebSocket connected\");\r\n      try {\r\n        this.device = new window.mediasoupClient.Device();\r\n        this.ws.send(JSON.stringify({ action: \"getRtpCapabilities\" }));\r\n      } catch (err) {\r\n        console.error(\"❌ Device creation failed:\", err);\r\n      }\r\n    };\r\n\r\n    this.ws.onmessage = async (event) => {\r\n      const msg = JSON.parse(event.data);\r\n      console.log(\"📩 Received:\", msg);\r\n\r\n      const cb = this.actionCallbackMap.get(msg.action);\r\n      if (cb) {\r\n        cb(msg);\r\n        this.actionCallbackMap.delete(msg.action);\r\n        return;\r\n      }\r\n\r\n      switch (msg.action) {\r\n        case \"adminInfo\":\r\n          this.isAdmin = msg.data.isAdmin;\r\n          this.emit(\"adminStatus\", this.isAdmin); // UI 매니저에게 알림\r\n          break;\r\n        case \"rtpCapabilities\":\r\n          await this._handleRtpCapabilities(msg.data);\r\n          break;\r\n        case \"createTransportResponse\":\r\n          await this._handleCreateTransportResponse(msg.data);\r\n          break;\r\n        case \"createConsumerTransportResponse\":\r\n          await this._handleCreateConsumerTransportResponse(msg.data);\r\n          break;\r\n        case \"existingProducers\":\r\n          await this._handleExistingProducers(msg.data);\r\n          break;\r\n        case \"newProducerAvailable\":\r\n          await this._handleNewProducerAvailable(msg);\r\n          break;\r\n        // case \"consumeResponse\":\r\n        //   await this._handleConsumeResponse(msg.data);\r\n        //   break;\r\n        case \"producerClosed\":\r\n          this._handleProducerClosed(msg);\r\n          break;\r\n      }\r\n    };\r\n  }\r\n\r\n  sendPeerStatus(statusData) {\r\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\r\n      this.ws.send(\r\n        JSON.stringify({\r\n          action: \"updatePeerStatus\",\r\n          data: statusData,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  _waitForAction(actionName, callback) {\r\n    this.actionCallbackMap.set(actionName, callback);\r\n  }\r\n\r\n  async _handleRtpCapabilities(data) {\r\n    try {\r\n      await this.device.load({ routerRtpCapabilities: data });\r\n      console.log(\"✅ Device loaded successfully\");\r\n      this.ws.send(JSON.stringify({ action: \"createTransport\" }));\r\n    } catch (err) {\r\n      console.error(\"❌ Failed to load device capabilities:\", err);\r\n    }\r\n  }\r\n\r\n  async _handleCreateTransportResponse(data) {\r\n    this.sendTransport = this.device.createSendTransport(data);\r\n\r\n    this.sendTransport.on(\r\n      \"connect\",\r\n      ({ dtlsParameters }, callback, errback) => {\r\n        this.ws.send(\r\n          JSON.stringify({\r\n            action: \"connectTransport\",\r\n            data: { dtlsParameters },\r\n          })\r\n        );\r\n        this._waitForAction(\"transportConnected\", callback);\r\n      }\r\n    );\r\n\r\n    this.sendTransport.on(\r\n      \"produce\",\r\n      async ({ kind, rtpParameters, appData }, callback, errback) => {\r\n        try {\r\n          console.log(`🎬 Producing ${kind}...`);\r\n          // _sendRequest를 사용하여 서버에 produce 요청을 보냅니다.\r\n          const producer = await this._sendRequest(\"produce\", {\r\n            kind,\r\n            rtpParameters,\r\n            appData,\r\n          });\r\n          console.log(\r\n            `✅ ${kind} production started with server id: ${producer.id}`\r\n          );\r\n          this.producers.set(producer.id, producer); // 실제 producer 객체 저장\r\n          callback({ id: producer.id });\r\n        } catch (error) {\r\n          errback(error);\r\n        }\r\n      }\r\n    );\r\n\r\n    await this._startProducing();\r\n  }\r\n\r\n  async _startProducing() {\r\n    try {\r\n      this.localStream = await navigator.mediaDevices.getUserMedia({\r\n        video: { width: { ideal: 640 }, height: { ideal: 480 } },\r\n        audio: true,\r\n      });\r\n      const videoElement = document.getElementById(\"localVideo\");\r\n      videoElement.srcObject = this.localStream;\r\n\r\n      videoElement.oncanplay = () => {\r\n        videoElement.oncanplay = null;\r\n        console.log(\"✅ Video element is ready to play.\");\r\n        this.emit(\"localStreamReady\", videoElement); // AI 모듈이 videoElement를 참조할 수 있도록 전달\r\n\r\n        (async () => {\r\n          const videoTrack = this.localStream.getVideoTracks()[0];\r\n          const audioTrack = this.localStream.getAudioTracks()[0];\r\n          let videoProducer, audioProducer;\r\n\r\n          if (videoTrack) {\r\n            videoProducer = await this.sendTransport.produce({\r\n              track: videoTrack,\r\n            });\r\n            this.producers.set(videoProducer.id, videoProducer); // 프로듀서 객체 저장\r\n          }\r\n          if (audioTrack) {\r\n            audioProducer = await this.sendTransport.produce({\r\n              track: audioTrack,\r\n            });\r\n            this.producers.set(audioProducer.id, audioProducer); // 프로듀서 객체 저장\r\n          }\r\n          this.ws.send(JSON.stringify({ action: \"deviceReady\" }));\r\n          // ✅ [핵심 추가] 모든 produce가 끝난 후, 컨트롤 준비 완료 이벤트를 방송합니다.\r\n          console.log(\"✅ All producers created. Controls are now ready.\");\r\n          this.emit(\"controlsReady\");\r\n        })();\r\n      };\r\n    } catch (err) {\r\n      console.error(\"❌ CRITICAL: Failed to get user media.\", err);\r\n      alert(`카메라/마이크를 가져올 수 없습니다: ${err.name}`);\r\n    }\r\n  }\r\n\r\n  async _handleCreateConsumerTransportResponse(data) {\r\n    this.recvTransport = this.device.createRecvTransport(data);\r\n    this.recvTransport.on(\"connect\", ({ dtlsParameters }, callback) => {\r\n      this.ws.send(\r\n        JSON.stringify({\r\n          action: \"connectConsumerTransport\",\r\n          data: { dtlsParameters },\r\n        })\r\n      );\r\n      this._waitForAction(\"consumerTransportConnected\", callback);\r\n    });\r\n\r\n    // ✅ recvTransport가 준비되었으므로, 대기 중인 모든 consumer를 처리합니다.\r\n    const pendingConsumes = [...this.pendingConsumeList];\r\n    this.pendingConsumeList = [];\r\n    console.log(\r\n      `✅ RecvTransport ready. Processing ${pendingConsumes.length} pending consumers.`\r\n    );\r\n    for (const consumeData of pendingConsumes) {\r\n      await this._consume(consumeData);\r\n    }\r\n  }\r\n\r\n  async _handleExistingProducers(producers) {\r\n    console.log(`📋 Found ${producers.length} existing producers.`);\r\n    for (const producer of producers) {\r\n      this.pendingConsumeList.push(producer);\r\n    }\r\n\r\n    // ✅ recvTransport가 아직 없으면 생성을 요청하고,\r\n    //    이미 있다면 바로 대기열을 처리하여 타이밍 문제를 해결합니다.\r\n    if (!this.recvTransport) {\r\n      this.ws.send(JSON.stringify({ action: \"createConsumerTransport\" }));\r\n    } else {\r\n      const pendingConsumes = [...this.pendingConsumeList];\r\n      this.pendingConsumeList = [];\r\n      for (const consumeData of pendingConsumes) {\r\n        await this._consume(consumeData);\r\n      }\r\n    }\r\n  }\r\n\r\n  async _handleNewProducerAvailable(producerInfo) {\r\n    console.log(\"🆕 A new producer is available.\", producerInfo);\r\n    const { producerId, kind, appData } = producerInfo;\r\n    const consumeData = { producerId, kind, appData }; // appData도 전달\r\n\r\n    // ✅ recvTransport가 없으면 대기열에 추가하고, 있으면 바로 consume을 시도합니다.\r\n    if (!this.recvTransport) {\r\n      this.pendingConsumeList.push(consumeData);\r\n    } else {\r\n      await this._consume(consumeData);\r\n    }\r\n  }\r\n\r\n  async _consume({ producerId, kind, appData }) {\r\n    // ✅ 중복 consumer 생성을 방지하는 가드\r\n    if (this.producerIdToConsumer.has(producerId)) {\r\n      console.warn(\r\n        `Consumer for producer ${producerId} already exists. Skipping.`\r\n      );\r\n      return;\r\n    }\r\n\r\n    console.log(`📡 Requesting to consume producer ${producerId}`);\r\n    if (!this.recvTransport) {\r\n      console.warn(\"recvTransport is not ready, queuing consume request\");\r\n      this.pendingConsumeList.push({ producerId, kind });\r\n      return;\r\n    }\r\n    try {\r\n      const data = await this._sendRequest(\"consume\", {\r\n        rtpCapabilities: this.device.rtpCapabilities,\r\n        producerId,\r\n        kind,\r\n      });\r\n\r\n      const consumer = await this.recvTransport.consume({\r\n        id: data.id,\r\n        producerId: data.producerId,\r\n        kind: data.kind,\r\n        rtpParameters: data.rtpParameters,\r\n        appData: { ...appData }, // 서버에서 받은 appData를 consumer에 저장\r\n      });\r\n      this.consumers.set(consumer.id, consumer);\r\n      this.producerIdToConsumer.set(producerId, consumer); // ✅ 새 맵에 추가\r\n\r\n      // UI 매니저가 화면에 그릴 수 있도록 이벤트를 발생시킵니다.\r\n      this.emit(\"new-consumer\", consumer);\r\n\r\n      // 4. 생성된 consumer를 즉시 resume하도록 서버에 요청합니다.\r\n      console.log(`🚀 Resuming consumer ${consumer.id}`);\r\n      this.ws.send(\r\n        JSON.stringify({\r\n          action: \"resumeConsumer\",\r\n          data: { consumerId: consumer.id },\r\n        })\r\n      );\r\n    } catch (error) {\r\n      console.error(`❌ Failed to create consumer for ${producerId}:`, error);\r\n    }\r\n  }\r\n\r\n  _handleProducerClosed({ producerId }) {\r\n    console.log(`🚫 Producer ${producerId} closed.`);\r\n    const consumer = this.producerIdToConsumer.get(producerId);\r\n    if (consumer) {\r\n      consumer.close();\r\n      this.consumers.delete(consumer.id);\r\n      this.producerIdToConsumer.delete(producerId);\r\n    }\r\n    this.emit(\"producer-closed\", producerId);\r\n  }\r\n\r\n  async _sendRequest(action, data) {\r\n    return new Promise((resolve, reject) => {\r\n      const callbackAction = `${action}Response`;\r\n      this._waitForAction(callbackAction, (response) => {\r\n        if (response.error) {\r\n          reject(new Error(response.error));\r\n        } else {\r\n          resolve(\r\n            response.id ? { id: response.id, ...response.data } : response.data\r\n          );\r\n        }\r\n      });\r\n      this.ws.send(JSON.stringify({ action, data }));\r\n    });\r\n  }\r\n  // ✅ 오디오 트랙을 끄거나 켭니다.\r\n  async setAudioEnabled(enabled) {\r\n    const audioProducer = this._findProducerByKind(\"audio\");\r\n    if (!audioProducer) return;\r\n\r\n    if (enabled) {\r\n      await audioProducer.resume();\r\n    } else {\r\n      await audioProducer.pause();\r\n    }\r\n    // 필요하다면 서버에 음소거 상태를 알리는 시그널링을 보낼 수 있습니다.\r\n    // this.sendPeerStatus({ isMuted: !enabled });\r\n  }\r\n\r\n  // ✅ 비디오 트랙을 끄거나 켭니다.\r\n  async setVideoEnabled(enabled) {\r\n    const videoProducer = this._findProducerByKind(\"video\");\r\n    if (!videoProducer) return;\r\n\r\n    if (enabled) {\r\n      await videoProducer.resume();\r\n    } else {\r\n      await videoProducer.pause();\r\n    }\r\n  }\r\n  _findProducerByKind(kind) {\r\n    // RoomClient가 관리하는 producers 맵에서 찾습니다.\r\n    for (const producer of this.producers.values()) {\r\n      if (producer.kind === kind) {\r\n        return producer;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // ✅ 화면 공유 시작\r\n  async startScreenShare() {\r\n    if (this.screenProducer) {\r\n      console.warn(\"Screen sharing is already active.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const stream = await navigator.mediaDevices.getDisplayMedia({\r\n        video: true,\r\n      });\r\n      const track = stream.getVideoTracks()[0];\r\n\r\n      this.screenProducer = await this.sendTransport.produce({\r\n        track,\r\n        appData: { source: \"screen\" },\r\n      });\r\n\r\n      // 브라우저의 '공유 중지' 버튼 클릭 감지\r\n      track.onended = () => {\r\n        console.log(\"Screen sharing stopped by browser button.\");\r\n        this.stopScreenShare();\r\n      };\r\n\r\n      this.producers.set(this.screenProducer.id, this.screenProducer);\r\n      this.emit(\"screenShareState\", { isSharing: true });\r\n      this.emit(\"local-screen-share-started\", this.screenProducer.track); // ✅ 로컬 UI를 위한 이벤트\r\n    } catch (err) {\r\n      console.error(\"❌ Failed to start screen sharing:\", err);\r\n    }\r\n  }\r\n\r\n  // ✅ 화면 공유 중지\r\n  async stopScreenShare() {\r\n    if (!this.screenProducer) {\r\n      console.warn(\"No active screen share to stop.\");\r\n      return;\r\n    }\r\n\r\n    console.log(\"🚀 Requesting to stop screen share.\");\r\n    // 서버에 화면 공유 중지를 명시적으로 요청\r\n    this.ws.send(\r\n      JSON.stringify({\r\n        action: \"stopScreenShare\",\r\n        data: { producerId: this.screenProducer.id },\r\n      })\r\n    );\r\n\r\n    // 로컬 프로듀서 정리\r\n    const producerId = this.screenProducer.id;\r\n    this.screenProducer.close(); // 스트림을 닫고 'close' 이벤트를 발생시킴\r\n    this.producers.delete(producerId);\r\n    this.screenProducer = null;\r\n    this.emit(\"screenShareState\", { isSharing: false });\r\n    this.emit(\"local-screen-share-stopped\"); // ✅ 로컬 UI 정리를 위한 이벤트\r\n  }\r\n}\r\n","// client/modules/MediaPipeModule.js\r\n\r\nimport { EventEmitter } from \"../utils/EventEmitter.js\";\r\n\r\n// ✅ EventEmitter를 상속받습니다.\r\nexport class MediaPipeModule extends EventEmitter {\r\n  constructor(videoElement) {\r\n    super();\r\n\r\n    this.videoElement = videoElement;\r\n    this.worker = new Worker(\"./dist/mediapipe-worker.bundle.js\");\r\n\r\n    // ✅ 1. 모든 상태와 상수를 클래스의 속성(this)으로 변경합니다.\r\n    this.isDrowsy = false;\r\n    this.isPresent = true;\r\n\r\n    this.LEFT_EYE = [33, 160, 158, 133, 153, 144];\r\n    this.RIGHT_EYE = [362, 385, 387, 263, 373, 380];\r\n    this.EAR_THRESH = 0.2;\r\n    this.DROWSY_FRAMES = 10;\r\n\r\n    this.closureFrames = 0;\r\n    this.absenceCounter = 0;\r\n    this.ABSENCE_CONSECUTIVE_FRAMES = 15; // 필요에 따라 조정\r\n\r\n    this.worker.onerror = (error) => {\r\n      console.error(\"❌ MediaPipe Worker 오류:\", error);\r\n      this.emit(\"error\", error); // 에러도 이벤트로 외부에 알립니다.\r\n    };\r\n\r\n    // ✅ 경쟁 상태(Race Condition)를 피하기 위해 onmessage 핸들러를 생성자에서 설정합니다.\r\n    this.worker.onmessage = (event) => {\r\n      const { type, landmarks } = event.data;\r\n      if (type === \"ready\") {\r\n        this._startAnalysisLoop();\r\n      } else if (type === \"result\") {\r\n        this._handleAnalysisResult(landmarks);\r\n      }\r\n    };\r\n  }\r\n\r\n  // ✅ main.js에서 AI 모듈을 시작하기 위해 호출하는 메소드입니다.\r\n  // 이제 이 메소드는 비어 있어도 되지만, 명시적으로 시작점을 관리하기 위해 남겨둡니다.\r\n  // 중요한 점은 onmessage 핸들러가 이미 생성자에서 설정되었다는 것입니다.\r\n  start() {\r\n    // console.log(\r\n    //   \"MediaPipeModule.start() called. Waiting for worker to be ready.\"\r\n    // );\r\n    // 실제 시작 로직은 worker가 'ready' 메시지를 보낼 때 트리거됩니다.\r\n  }\r\n\r\n  _startAnalysisLoop() {\r\n    const AI_ANALYSIS_INTERVAL = 200;\r\n    const analyzeFrame = async () => {\r\n      // ✅ 비디오 너비/높이가 0이 아니고, 상태가 준비되었을 때만 분석\r\n      if (\r\n        this.worker &&\r\n        this.videoElement.readyState >= 2 &&\r\n        this.videoElement.videoWidth > 0 &&\r\n        this.videoElement.videoHeight > 0\r\n      ) {\r\n        try {\r\n          const imageBitmap = await createImageBitmap(this.videoElement);\r\n          this.worker.postMessage({ imageBitmap }, [imageBitmap]);\r\n        } catch (error) {\r\n          console.error(\r\n            \"❌ Error creating ImageBitmap in MediaPipeModule:\",\r\n            error\r\n          );\r\n        }\r\n      }\r\n      setTimeout(analyzeFrame, AI_ANALYSIS_INTERVAL);\r\n    };\r\n    setTimeout(analyzeFrame, AI_ANALYSIS_INTERVAL);\r\n  }\r\n\r\n  _handleAnalysisResult(landmarks) {\r\n    // ✅ 2. 랜드마크 그리기 요청은 이벤트로만 방송합니다.\r\n    this.emit(\"landmarksUpdate\", landmarks);\r\n\r\n    const previousIsPresent = this.isPresent;\r\n    const previousIsDrowsy = this.isDrowsy;\r\n\r\n    // --- 자리 비움 / 복귀 판단 ---\r\n    if (!landmarks) {\r\n      this.absenceCounter++;\r\n      if (this.absenceCounter > this.ABSENCE_CONSECUTIVE_FRAMES) {\r\n        this.isPresent = false;\r\n      }\r\n    } else {\r\n      this.absenceCounter = 0;\r\n      this.isPresent = true;\r\n    }\r\n\r\n    // --- 졸음 판단 (얼굴이 감지된 경우에만) ---\r\n    if (landmarks) {\r\n      const getEAR = (eyeIndices) => {\r\n        const pts = eyeIndices.map((i) => landmarks[i]);\r\n        const d = (a, b) => Math.hypot(a.x - b.x, a.y - b.y);\r\n        return (\r\n          (d(pts[1], pts[5]) + d(pts[2], pts[4])) / (2 * d(pts[0], pts[3]))\r\n        );\r\n      };\r\n      const ear = (getEAR(this.LEFT_EYE) + getEAR(this.RIGHT_EYE)) / 2;\r\n\r\n      if (ear < this.EAR_THRESH) {\r\n        this.closureFrames++;\r\n        if (this.closureFrames >= this.DROWSY_FRAMES) {\r\n          this.isDrowsy = true;\r\n        }\r\n      } else {\r\n        this.isDrowsy = false;\r\n        this.closureFrames = 0;\r\n      }\r\n    } else {\r\n      // 얼굴이 없으면 졸음 상태는 아니므로 리셋\r\n      this.isDrowsy = false;\r\n      this.closureFrames = 0;\r\n    }\r\n\r\n    // ✅ 3. 상태가 '변경'되었을 때만 이벤트를 방송합니다.\r\n    if (previousIsPresent !== this.isPresent) {\r\n      this.emit(\"absenceUpdate\", { isPresent: this.isPresent });\r\n    }\r\n    if (previousIsDrowsy !== this.isDrowsy) {\r\n      this.emit(\"drowsinessUpdate\", { isDrowsy: this.isDrowsy });\r\n    }\r\n  }\r\n}\r\n","// client/UIManager.js\r\n\r\n// 이 상수는 그림을 그리는 UIManager가 가지고 있는 것이 더 적합합니다.\r\nconst FACE_LANDMARKS_CONNECTORS = [\r\n  { start: 61, end: 146 },\r\n  { start: 146, end: 91 },\r\n  { start: 91, end: 181 },\r\n  { start: 181, end: 84 },\r\n  { start: 84, end: 17 },\r\n  { start: 17, end: 314 },\r\n  { start: 314, end: 405 },\r\n  { start: 405, end: 321 },\r\n  { start: 321, end: 375 },\r\n  { start: 375, end: 291 },\r\n  { start: 61, end: 185 },\r\n  { start: 185, end: 40 },\r\n  { start: 40, end: 39 },\r\n  { start: 39, end: 37 },\r\n  { start: 37, end: 0 },\r\n  { start: 0, end: 267 },\r\n  { start: 267, end: 269 },\r\n  { start: 269, end: 270 },\r\n  { start: 270, end: 409 },\r\n  { start: 409, end: 291 },\r\n  { start: 78, end: 95 },\r\n  { start: 95, end: 88 },\r\n  { start: 88, end: 178 },\r\n  { start: 178, end: 87 },\r\n  { start: 87, end: 14 },\r\n  { start: 14, end: 317 },\r\n  { start: 317, end: 402 },\r\n  { start: 402, end: 318 },\r\n  { start: 318, end: 324 },\r\n  { start: 324, end: 308 },\r\n  { start: 78, end: 191 },\r\n  { start: 191, end: 80 },\r\n  { start: 80, end: 81 },\r\n  { start: 81, end: 82 },\r\n  { start: 82, end: 13 },\r\n  { start: 13, end: 312 },\r\n  { start: 312, end: 311 },\r\n  { start: 311, end: 310 },\r\n  { start: 310, end: 415 },\r\n  { start: 415, end: 308 },\r\n  // Left eye\r\n  { start: 362, end: 382 },\r\n  { start: 382, end: 381 },\r\n  { start: 381, end: 380 },\r\n  { start: 380, end: 373 },\r\n  { start: 373, end: 374 },\r\n  { start: 374, end: 390 },\r\n  { start: 390, end: 249 },\r\n  { start: 249, end: 362 },\r\n  // Left eyebrow\r\n  { start: 336, end: 296 },\r\n  { start: 296, end: 334 },\r\n  { start: 334, end: 293 },\r\n  { start: 293, end: 300 },\r\n  { start: 300, end: 276 },\r\n  // Right eye\r\n  { start: 33, end: 7 },\r\n  { start: 7, end: 163 },\r\n  { start: 163, end: 144 },\r\n  { start: 144, end: 145 },\r\n  { start: 145, end: 153 },\r\n  { start: 153, end: 154 },\r\n  { start: 154, end: 155 },\r\n  { start: 155, end: 33 },\r\n  // Right eyebrow\r\n  { start: 107, end: 66 },\r\n  { start: 66, end: 105 },\r\n  { start: 105, end: 63 },\r\n  { start: 63, end: 70 },\r\n  { start: 70, end: 46 },\r\n  // Face oval\r\n  { start: 10, end: 338 },\r\n  { start: 338, end: 297 },\r\n  { start: 297, end: 332 },\r\n  { start: 332, end: 284 },\r\n  { start: 284, end: 251 },\r\n  { start: 251, end: 389 },\r\n  { start: 389, end: 356 },\r\n  { start: 356, end: 454 },\r\n  { start: 454, end: 323 },\r\n  { start: 323, end: 361 },\r\n  { start: 361, end: 288 },\r\n  { start: 288, end: 397 },\r\n  { start: 397, end: 365 },\r\n  { start: 365, end: 379 },\r\n  { start: 379, end: 378 },\r\n  { start: 378, end: 400 },\r\n  { start: 400, end: 377 },\r\n  { start: 377, end: 152 },\r\n  { start: 152, end: 148 },\r\n  { start: 148, end: 176 },\r\n  { start: 176, end: 149 },\r\n  { start: 149, end: 150 },\r\n  { start: 150, end: 136 },\r\n  { start: 136, end: 172 },\r\n  { start: 172, end: 58 },\r\n  { start: 58, end: 132 },\r\n  { start: 132, end: 93 },\r\n  { start: 93, end: 234 },\r\n  { start: 234, end: 127 },\r\n  { start: 127, end: 162 },\r\n  { start: 162, end: 21 },\r\n  { start: 21, end: 54 },\r\n  { start: 54, end: 103 },\r\n  { start: 103, end: 67 },\r\n  { start: 67, end: 109 },\r\n  { start: 109, end: 10 },\r\n];\r\n\r\nexport class UIManager {\r\n  constructor() {\r\n    this.canvas = document.getElementById(\"localCanvas\");\r\n    this.canvasCtx = this.canvas.getContext(\"2d\");\r\n    this.video = document.getElementById(\"localVideo\");\r\n    this.remoteMediaContainer = document.getElementById(\"remoteMediaContainer\");\r\n\r\n    this.muteButton = document.getElementById(\"muteButton\");\r\n    this.cameraOffButton = document.getElementById(\"cameraOffButton\");\r\n    this.screenShareButton = document.getElementById(\"screenShareButton\");\r\n\r\n    if (!this.remoteMediaContainer) {\r\n      console.error(\r\n        \"❌ UIManager: #remoteMediaContainer 요소를 찾을 수 없습니다!\"\r\n      );\r\n    } else {\r\n      console.log(\"✅ UIManager: #remoteMediaContainer 요소 초기화 완료.\");\r\n    }\r\n  }\r\n\r\n  // ✅ [핵심 추가] 모든 컨트롤 버튼을 활성화하는 메소드\r\n  enableControls() {\r\n    console.log(\"🛠️ Enabling media controls...\");\r\n    this.muteButton.disabled = false;\r\n    this.cameraOffButton.disabled = false;\r\n    // screenShareButton은 관리자만 활성화되므로 여기서는 처리하지 않음\r\n  }\r\n\r\n  // ✅ 관리자 여부에 따라 화면 공유 버튼 활성화\r\n  setAdminControls(isAdmin) {\r\n    console.log(`👑 Admin status: ${isAdmin}. Setting controls.`);\r\n    this.screenShareButton.disabled = !isAdmin;\r\n  }\r\n\r\n  // ✅ 화면 공유 상태에 따라 레이아웃을 변경하는 메소드\r\n  updateLayoutForScreenShare(isSharing) {\r\n    const localMediaContainer = document.getElementById(\"localMediaContainer\");\r\n    if (isSharing) {\r\n      // 화면 공유 시, 로컬 비디오는 작게 만들고, 원격 컨테이너는 화면 공유에 집중\r\n      localMediaContainer.classList.add(\"small\");\r\n      this.remoteMediaContainer.classList.add(\"screen-sharing-active\");\r\n    } else {\r\n      // 화면 공유 종료 시, 원래대로 복원\r\n      localMediaContainer.classList.remove(\"small\");\r\n      this.remoteMediaContainer.classList.remove(\"screen-sharing-active\");\r\n    }\r\n  }\r\n\r\n  drawFaceMesh(landmarks) {\r\n    // 캔버스 크기를 비디오 크기에 맞춥니다.\r\n    this.canvas.width = this.video.videoWidth;\r\n    this.canvas.height = this.video.videoHeight;\r\n    this.canvasCtx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n    if (!landmarks) return;\r\n\r\n    // 선 스타일 설정\r\n    this.canvasCtx.strokeStyle = \"rgba(0, 255, 0, 0.7)\";\r\n    this.canvasCtx.lineWidth = 1.5;\r\n\r\n    for (const connection of FACE_LANDMARKS_CONNECTORS) {\r\n      const start = landmarks[connection.start];\r\n      const end = landmarks[connection.end];\r\n      if (start && end) {\r\n        this.canvasCtx.beginPath();\r\n        this.canvasCtx.moveTo(\r\n          start.x * this.canvas.width,\r\n          start.y * this.canvas.height\r\n        );\r\n        this.canvasCtx.lineTo(\r\n          end.x * this.canvas.width,\r\n          end.y * this.canvas.height\r\n        );\r\n        this.canvasCtx.stroke();\r\n      }\r\n    }\r\n  }\r\n\r\n  // 원격 비디오 엘리먼트 생성 등 다른 UI 관련 로직도 여기에 추가...\r\n  addRemoteTrack(track, producerId, appData) {\r\n    if (!this.remoteMediaContainer) {\r\n      console.error(\r\n        \"❌ UIManager.addRemoteTrack: remoteMediaContainer가 유효하지 않습니다. 원격 트랙을 추가할 수 없습니다.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    // 화면 공유 스트림인 경우 특별 처리\r\n    if (appData && appData.source === \"screen\") {\r\n      this.updateLayoutForScreenShare(true);\r\n      const screenShareWrapper = document.createElement(\"div\");\r\n      screenShareWrapper.id = `remote-screen-${producerId}`;\r\n      screenShareWrapper.classList.add(\"screen-share-wrapper\");\r\n\r\n      const element = document.createElement(track.kind);\r\n      element.autoplay = true;\r\n      element.playsInline = true;\r\n      element.srcObject = new MediaStream([track]);\r\n\r\n      screenShareWrapper.appendChild(element);\r\n      // 화면 공유는 보통 컨테이너의 맨 앞에 오도록 prepend 사용\r\n      this.remoteMediaContainer.prepend(screenShareWrapper);\r\n      console.log(`🖥️ Added screen share for producer ${producerId}`);\r\n    } else {\r\n      const element = document.createElement(track.kind);\r\n      element.id = `remote-${producerId}`;\r\n      element.autoplay = true;\r\n      element.playsInline = true;\r\n      if (track.kind === \"video\") {\r\n        element.controls = true;\r\n      }\r\n      element.srcObject = new MediaStream([track]);\r\n\r\n      this.remoteMediaContainer.appendChild(element);\r\n      console.log(\r\n        `📺 Added remote ${track.kind} element for producer ${producerId}`\r\n      );\r\n    }\r\n  }\r\n\r\n  removeRemoteTrack(producerId) {\r\n    // 일반 비디오와 화면 공유 엘리먼트를 모두 찾아 제거\r\n    const remoteVideo = document.getElementById(`remote-${producerId}`);\r\n    const screenShare = document.getElementById(`remote-screen-${producerId}`);\r\n\r\n    if (remoteVideo) {\r\n      remoteVideo.remove();\r\n      console.log(`🗑️ Removed video element for producer ${producerId}`);\r\n    }\r\n    if (screenShare) {\r\n      screenShare.remove();\r\n      console.log(`🗑️ Removed screen share for producer ${producerId}`);\r\n      // 화면 공유가 종료되었으므로 레이아웃 복원\r\n      this.updateLayoutForScreenShare(false);\r\n    }\r\n  }\r\n\r\n  // ✅ 관리자 자신의 화면 공유를 UI에 추가하는 메소드\r\n  addLocalScreenShare(track) {\r\n    this.updateLayoutForScreenShare(true);\r\n    const screenShareWrapper = document.createElement(\"div\");\r\n    screenShareWrapper.id = \"local-screen-share-wrapper\"; // 로컬 공유는 ID가 고정됨\r\n    screenShareWrapper.classList.add(\"screen-share-wrapper\");\r\n\r\n    const element = document.createElement(track.kind);\r\n    element.autoplay = true;\r\n    element.playsInline = true;\r\n    element.muted = true; // 자기 자신의 소리는 음소거\r\n    element.srcObject = new MediaStream([track]);\r\n\r\n    screenShareWrapper.appendChild(element);\r\n    this.remoteMediaContainer.prepend(screenShareWrapper);\r\n    console.log(\"🖥️ Added local screen share to UI.\");\r\n  }\r\n\r\n  // ✅ 로컬 화면 공유를 UI에서 제거하는 메소드\r\n  removeLocalScreenShare() {\r\n    const element = document.getElementById(\"local-screen-share-wrapper\");\r\n    if (element) {\r\n      element.remove();\r\n      console.log(\"🗑️ Removed local screen share from UI.\");\r\n      this.updateLayoutForScreenShare(false); // 레이아웃 복원\r\n    }\r\n  }\r\n}\r\n","// client/main.js\r\nimport { RoomClient } from \"./RoomClient.js\";\r\nimport { MediaPipeModule } from \"./modules/MediaPipeModule.js\";\r\nimport { UIManager } from \"./UIManager.js\";\r\n\r\n// --- 애플리케이션 시작 ---\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  console.log(\"🚀 Application starting...\");\r\n\r\n  const uiManager = new UIManager();\r\n  const roomClient = new RoomClient(uiManager);\r\n\r\n  let isAudioEnabled = true;\r\n  let isVideoEnabled = true;\r\n  let isScreenSharing = false;\r\n\r\n  // ✅ 관리자 여부를 받아서 화면 공유 버튼 활성화\r\n  roomClient.on(\"adminStatus\", (isAdmin) => {\r\n    uiManager.setAdminControls(isAdmin);\r\n  });\r\n\r\n  // ✅ 화면 공유 버튼 클릭 이벤트 핸들러\r\n  uiManager.screenShareButton.onclick = () => {\r\n    if (isScreenSharing) {\r\n      roomClient.stopScreenShare();\r\n    } else {\r\n      roomClient.startScreenShare();\r\n    }\r\n  };\r\n\r\n  // ✅ 화면 공유 상태가 변경되면 UI 업데이트\r\n  roomClient.on(\"screenShareState\", ({ isSharing }) => {\r\n    isScreenSharing = isSharing;\r\n    uiManager.screenShareButton.textContent = isSharing\r\n      ? \"공유 중지\"\r\n      : \"화면 공유\";\r\n  });\r\n\r\n  // ✅ [핵심 추가] RoomClient가 컨트롤 준비 완료를 방송하면, UIManager가 버튼을 활성화합니다.\r\n  roomClient.on(\"controlsReady\", () => {\r\n    uiManager.enableControls();\r\n\r\n    uiManager.cameraOffButton.onclick = () => {\r\n      isVideoEnabled = !isVideoEnabled;\r\n      roomClient.setVideoEnabled(isVideoEnabled);\r\n      uiManager.cameraOffButton.textContent = isVideoEnabled\r\n        ? \"카메라 끄기\"\r\n        : \"카메라 켜기\";\r\n    };\r\n\r\n    uiManager.muteButton.onclick = () => {\r\n      isAudioEnabled = !isAudioEnabled;\r\n      roomClient.setAudioEnabled(isAudioEnabled); // UIManager가 아닌 RoomClient를 직접 호출\r\n      uiManager.muteButton.textContent = isAudioEnabled\r\n        ? \"음소거\"\r\n        : \"음소거 해제\";\r\n    };\r\n  });\r\n\r\n  // ✅ RoomClient가 방송하는 이벤트를 구독하여 UIManager에 작업을 지시합니다.\r\n  roomClient.on(\"new-consumer\", (consumer) => {\r\n    console.log(\"🎧 Event: new-consumer -> UI Manager adding remote track.\");\r\n    // consumer에 포함된 appData를 함께 전달\r\n    uiManager.addRemoteTrack(\r\n      consumer.track,\r\n      consumer.producerId,\r\n      consumer.appData\r\n    );\r\n  });\r\n\r\n  roomClient.on(\"producer-closed\", (producerId) => {\r\n    console.log(\r\n      \"🎧 Event: producer-closed -> UI Manager removing remote track.\"\r\n    );\r\n    uiManager.removeRemoteTrack(producerId);\r\n  });\r\n\r\n  // ✅ 로컬 화면 공유 시작/중지 이벤트 처리\r\n  roomClient.on(\"local-screen-share-started\", (track) => {\r\n    uiManager.addLocalScreenShare(track);\r\n  });\r\n\r\n  roomClient.on(\"local-screen-share-stopped\", () => {\r\n    uiManager.removeLocalScreenShare();\r\n  });\r\n\r\n  // ❗️핵심: 사용자가 '졸음 감지 모듈'을 구매했는지 여부 (나중에는 서버에서 받아올 값)\r\n  const userHasAiModule = true;\r\n\r\n  if (userHasAiModule) {\r\n    const videoElement = document.getElementById(\"localVideo\");\r\n    const aiModule = new MediaPipeModule(videoElement);\r\n\r\n    console.log(\"🤖 AI Module will be initialized.\");\r\n\r\n    // --- 지휘자(main.js)가 각 모듈의 이벤트를 연결(구독)해줍니다. ---\r\n\r\n    // 1. RoomClient가 '로컬 스트림 준비 완료'를 방송하면, AI 모듈이 분석을 시작합니다.\r\n    roomClient.on(\"localStreamReady\", () => {\r\n      console.log(\r\n        \"🤖 AI-DEBUG: localStreamReady event received. Attempting to start AI module.\"\r\n      );\r\n      console.log(\"🎧 Event: localStreamReady -> AI Module starting analysis.\");\r\n      aiModule.start();\r\n    });\r\n\r\n    // 2. AI 모듈이 '랜드마크 업데이트'를 방송하면, UI 매니저가 화면에 그림을 그립니다.\r\n    aiModule.on(\"landmarksUpdate\", (landmarks) => {\r\n      uiManager.drawFaceMesh(landmarks);\r\n    });\r\n\r\n    // 3. AI 모듈이 '상태 변경'을 방송하면, RoomClient가 서버로 데이터를 전송합니다.\r\n    aiModule.on(\"drowsinessUpdate\", (data) => {\r\n      console.log(\"🎧 Event: drowsinessUpdate -> Sending status to server.\");\r\n      roomClient.sendPeerStatus(data);\r\n    });\r\n    aiModule.on(\"absenceUpdate\", (data) => {\r\n      console.log(\"🎧 Event: absenceUpdate -> Sending status to server.\");\r\n      roomClient.sendPeerStatus(data);\r\n    });\r\n\r\n    // 4. AI 모듈에서 에러가 발생하면 콘솔에 출력합니다.\r\n    aiModule.on(\"error\", (error) => {\r\n      console.error(\"🔥 AI Module Error:\", error);\r\n    });\r\n  }\r\n\r\n  // 화상회의 클라이언트의 모든 준비를 시작합니다.\r\n  // 나중에 이 roomId는 URL이나 다른 방법으로 받아와야한다!!\r\n  const roomId = \"my-first-room\";\r\n  roomClient.join(roomId);\r\n});\r\n"],"names":[],"mappings":"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,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE;EACvB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B;EACA,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B;EACA,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B;EACA,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE;EACvB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB;EACA,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EACxB;EACA,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;EACzB,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EAC1B,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG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"}